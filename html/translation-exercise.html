<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Math Blockly: Translation from English to mathematics</title>

  <link href="math-blockly.css" rel="stylesheet" type="text/css" />

  <script src="../blockly/blockly_compressed.js"></script>
  <script src="../blockly/blocks/math.js"></script>
  <script src="../blockly/msg/js/en.js"></script>
  <script src="../blockly-type-indicator/typeIndicator.js"></script> <!-- indicate matching slots when dragging block !-->

  <script type="text/x-mathjax-config">
  /* Configure MathJax */
  MathJax.Hub.Config({
    config: ["MMLorHTML.js"],
    jax: ["input/TeX","output/HTML-CSS","output/NativeMML", "output/CommonHTML", "output/SVG"],
    extensions: ["tex2jax.js","MathMenu.js","MathZoom.js", "CHTML-preview.js"],
    TeX: {
      extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
    }
  });
  </script>
  <script src="../js/utils.js"></script>
  <script src="../js/math-blocks.js"></script>  <!-- Load custom blocks !-->
  <script src="../js/math-blocks-translation-exercise.js"></script>  <!-- Load custom blocks !-->
  <script src="../js/exercise-utils.js"></script>  <!-- Load code !-->

  <!-- Load MathJax !-->
  <script>
  loadMathjax();
  
  var questionConfig = [
    /* Format:
        solns: array of xml node id's of possible solutions to the question
        loadData: either an id of xml node to add to workspace when loading question, or a function to call to load next question
    */
    {solns: ["q1solution1"/*, "q1solution2", "q1solution3"*/], loadData: "q1initial"},
    {solns: ["q2solution"], loadData: loadQ2},
    {solns: ["q3solution"], loadData: null},
  ];
  </script>
</head>
<body>
  <h1>Translation from English to mathematics</h1>

  <div id="q1" class="question">Q1. Use the blocks provided to express the statement `<em>Every multiple of 6 is also a multiple of 3</em>'.</div>
  <div id="q2" class="question">Q2. Use the blocks provided to express the statement `<em>Every multiple of 6 is also a multiple of 3</em>', <b>but using only mathematical notation</b>.</div>
  <div id="q3" class="question">Q3. Use the blocks provided to express the statement `<em><span class="red">Some</span> multiple of <span class="red">3</span> is <span class="red">also</span> a multiple of <span class="red">6</span></em>'.</div>
  <div id="blocklyDiv" style="height: 400px; width: 100%;"></div>
  
  <!--<input type="button" value="Check answer" onclick="checkAnswer();"/>!-->
  
  <div style="text-align: center;">
    <span id="resultIncorrect" style="color: red; display: none;">Not quite there yet...</span>
    <div id="resultCorrect" style="display: none;">
      <div style="color: #00aa00; text-weight: bold; font-size: x-large">Correct!</div>
      <div id="nextButton">
        <a href="#" onclick="nextQuestion();">Click here to advance to the next question</a>
      </div>
      <div id="finished" style="color: #0000aa; text-weight: bold; font-size: x-large; display: none;">
        Finished.
      </div>
    </div>
  </div>

  <div class="debug">
    <a href="#" onclick="dumpXML();">(dump XML)</a>&nbsp;<a href="#" onclick="cheat();">(cheat)</a>
  </div>

  <!--
  <xml id="toolbox" style="display: none">
    <block type="logic_forall_restricted"></block>
    <block type="logic_forall_condition_restricted"></block>
    <block type="logic_exists_restricted"></block>
    <block type="logic_exists_condition_restricted"></block>
    <block type="set_dropdown"></block>
    <block type="number_variable_restricted"></block>
    <block type="function_fn"></block>
    <block type="number_abs"></block>
    <block type="math_arithmetic"></block>
    <block type="number_comparison"></block>
  </xml>
  !-->  
  <xml id="q1initial" style="display: none;">
    <block type="logic_quantifier_set_restricted_1" id="6/8T!gQ*,D?*RUNRynp3" x="607" y="46">
      <field name="QUANTIFIER">FORALL</field>
      <field name="VAR">a</field>
    </block>
    <block type="logic_connective" id=":]LON,k-!D|CGQb$A3FB" x="632" y="97">
      <field name="CONNECTIVE">⇒</field>
    </block>
    <block type="predicate_multiple_of_3" id="fX(^g7xz/h`iw/Q!X8W=" x="610" y="147"></block>
    <block type="predicate_multiple_of_6" id="$O{41OtB{O`4$8%M:2E}" x="609" y="198"></block>
    <block type="number_variable_restricted" id="mtgBEc]uuk$k=.EoQh,h" x="629" y="262">
      <field name="VAR">a</field>
    </block>
    <block type="number_variable_restricted" id="Jr{b*jBHteQRO#N;X3,6" x="701" y="263">
      <field name="VAR">a</field>
    </block>
  </xml>

  <xml xmlns="http://www.w3.org/1999/xhtml" id="q1solution1">
    <block type="logic_quantifier_set_restricted_1" id="6/8T!gQ*,D?*RUNRynp3" x="557" y="87">
      <field name="QUANTIFIER">FORALL</field>
      <field name="VAR">a</field>
      <value name="PREDICATE">
        <block type="logic_connective" id=":]LON,k-!D|CGQb$A3FB">
          <field name="CONNECTIVE">⇒</field>
          <value name="LEFTINPUT">
            <block type="predicate_multiple_of_6" id="$O{41OtB{O`4$8%M:2E}">
              <value name="NUM">
                <block type="number_variable_restricted" id="mtgBEc]uuk$k=.EoQh,h">
                  <field name="VAR">a</field>
                </block>
              </value>
            </block>
          </value>
          <value name="RIGHTINPUT">
            <block type="predicate_multiple_of_3" id="fX(^g7xz/h`iw/Q!X8W=">
              <value name="NUM">
                <block type="number_variable_restricted" id="Jr{b*jBHteQRO#N;X3,6">
                  <field name="VAR">a</field>
                </block>
              </value>
            </block>
          </value>
        </block>
      </value>
    </block>
  </xml>
  <xml xmlns="http://www.w3.org/1999/xhtml" id="q1solution2">
    <block type="logic_quantifier_set_restricted_1" id="6/8T!gQ*,D?*RUNRynp3" x="607" y="46">
      <field name="QUANTIFIER">FORALL</field>
      <field name="VAR">b</field>
      <value name="PREDICATE">
        <block type="logic_connective" id=":]LON,k-!D|CGQb$A3FB">
          <field name="CONNECTIVE">⇒</field>
          <value name="LEFTINPUT">
            <block type="predicate_multiple_of_6" id="$O{41OtB{O`4$8%M:2E}">
              <value name="NUM">
                <block type="number_variable_restricted" id="mtgBEc]uuk$k=.EoQh,h">
                  <field name="VAR">b</field>
                </block>
              </value>
            </block>
          </value>
          <value name="RIGHTINPUT">
            <block type="predicate_multiple_of_3" id="fX(^g7xz/h`iw/Q!X8W=">
              <value name="NUM">
                <block type="number_variable_restricted" id="Jr{b*jBHteQRO#N;X3,6">
                  <field name="VAR">b</field>
                </block>
              </value>
            </block>
          </value>
        </block>
      </value>
    </block>
  </xml>
  <xml xmlns="http://www.w3.org/1999/xhtml" id="q1solution3">
    <block type="logic_quantifier_set_restricted_1" id="6/8T!gQ*,D?*RUNRynp3" x="607" y="46">
      <field name="QUANTIFIER">FORALL</field>
      <field name="VAR">c</field>
      <value name="PREDICATE">
        <block type="logic_connective" id=":]LON,k-!D|CGQb$A3FB">
          <field name="CONNECTIVE">⇒</field>
          <value name="LEFTINPUT">
            <block type="predicate_multiple_of_6" id="$O{41OtB{O`4$8%M:2E}">
              <value name="NUM">
                <block type="number_variable_restricted" id="mtgBEc]uuk$k=.EoQh,h">
                  <field name="VAR">c</field>
                </block>
              </value>
            </block>
          </value>
          <value name="RIGHTINPUT">
            <block type="predicate_multiple_of_3" id="fX(^g7xz/h`iw/Q!X8W=">
              <value name="NUM">
                <block type="number_variable_restricted" id="Jr{b*jBHteQRO#N;X3,6">
                  <field name="VAR">c</field>
                </block>
              </value>
            </block>
          </value>
        </block>
      </value>
    </block>
  </xml>
  <xml xmlns="http://www.w3.org/1999/xhtml" id="q2addition">
    <block type="logic_quantifier_set_restricted_2" id="MFX+oxQp;[[_+6uRa)*J" x="613" y="105">
      <field name="QUANTIFIER">BLANK</field>
      <field name="VAR">BLANK</field>
    </block>
    <block type="logic_quantifier_set_restricted_2" id="6Q+Sblek}66w70A@avxU" x="1193" y="101">
      <field name="QUANTIFIER">BLANK</field>
      <field name="VAR">BLANK</field>
    </block>
    <block type="number_comparison" id="NbPJJ7;oRA,Wyp:mw88Z" x="629" y="153">
      <field name="COMPARISON_OPERATOR">=</field>
    </block>
    <block type="number_comparison" id="@mjFST6b{9OGHf]`+z4%" x="1207" y="156">
      <field name="COMPARISON_OPERATOR">=</field>
    </block>
    <block type="math_arithmetic" id="x+=/IKc;)jI%$uw@pD{/" x="627" y="205">
      <field name="OP">MULTIPLY</field>
    </block>
    <block type="math_arithmetic" id="|7LQ|scm*)(e~6fQPv=r" x="1205" y="208">
      <field name="OP">MULTIPLY</field>
    </block>
    <block type="number_variable_restricted" id="sVuY7hTK?zQH?pB;sbGE" x="627" y="260">
      <field name="VAR">BLANK</field>
    </block>
    <block type="number_variable_restricted" x="677" y="260">
      <field name="VAR">BLANK</field>
    </block>
    <block type="math_number" id="zN9wC*dq%+t[roV:fyJa" x="727" y="261">
      <field name="NUM">6</field>
    </block>
    <block type="number_variable_restricted" id="9$0aF2.o83=^JlYR+:T{" x="1204" y="263">
      <field name="VAR">BLANK</field>
    </block>
    <block type="number_variable_restricted" x="1254" y="263">
      <field name="VAR">BLANK</field>
    </block>
    <block type="math_number" id="/aaex8.ExF/d:qjL-u}N" x="1304" y="262">
      <field name="NUM">3</field>
    </block>
  </xml>

  <xml xmlns="http://www.w3.org/1999/xhtml" id="q2solution">
    <block type="logic_quantifier_set_restricted_1" id="6/8T!gQ*,D?*RUNRynp3" x="407" y="74">
      <field name="QUANTIFIER">FORALL</field>
      <field name="VAR">a</field>
      <value name="PREDICATE">
        <block type="logic_connective" id=":]LON,k-!D|CGQb$A3FB">
          <field name="CONNECTIVE">⇒</field>
          <value name="LEFTINPUT">
            <block type="logic_quantifier_set_restricted_2" id="MFX+oxQp;[[_+6uRa)*J">
              <field name="QUANTIFIER">EXISTS</field>
              <field name="VAR">b</field>
              <value name="PREDICATE">
                <block type="number_comparison" id="NbPJJ7;oRA,Wyp:mw88Z">
                  <field name="COMPARISON_OPERATOR">=</field>
                  <value name="LEFTINPUT">
                    <block type="number_variable_restricted" id="sVuY7hTK?zQH?pB;sbGE">
                      <field name="VAR">a</field>
                    </block>
                  </value>
                  <value name="RIGHTINPUT">
                    <block type="math_arithmetic" id="x+=/IKc;)jI%$uw@pD{/">
                      <field name="OP">MULTIPLY</field>
                      <value name="A">
                        <block type="math_number" id="zN9wC*dq%+t[roV:fyJa">
                          <field name="NUM">6</field>
                        </block>
                      </value>
                      <value name="B">
                        <block type="number_variable_restricted" id="_4D}cngejJ+bH`y.g5xt">
                          <field name="VAR">b</field>
                        </block>
                      </value>
                    </block>
                  </value>
                </block>
              </value>
            </block>
          </value>
          <value name="RIGHTINPUT">
            <block type="logic_quantifier_set_restricted_2" id="6Q+Sblek}66w70A@avxU">
              <field name="QUANTIFIER">EXISTS</field>
              <field name="VAR">c</field>
              <value name="PREDICATE">
                <block type="number_comparison" id="@mjFST6b{9OGHf]`+z4%">
                  <field name="COMPARISON_OPERATOR">=</field>
                  <value name="LEFTINPUT">
                    <block type="number_variable_restricted" id="9$0aF2.o83=^JlYR+:T{">
                      <field name="VAR">a</field>
                    </block>
                  </value>
                  <value name="RIGHTINPUT">
                    <block type="math_arithmetic" id="|7LQ|scm*)(e~6fQPv=r">
                      <field name="OP">MULTIPLY</field>
                      <value name="A">
                        <block type="math_number" id="/aaex8.ExF/d:qjL-u}N">
                          <field name="NUM">3</field>
                        </block>
                      </value>
                      <value name="B">
                        <block type="number_variable_restricted" id="R{.%QFS1Zfym`qlbCL#`">
                          <field name="VAR">c</field>
                        </block>
                      </value>
                    </block>
                  </value>
                </block>
              </value>
            </block>
          </value>
        </block>
      </value>
    </block>
  </xml>

  <xml xmlns="http://www.w3.org/1999/xhtml" id="q3solution">
    <block type="logic_quantifier_set_restricted_1" id="6/8T!gQ*,D?*RUNRynp3" x="407" y="74">
      <field name="QUANTIFIER">EXISTS</field>
      <field name="VAR">a</field>
      <value name="PREDICATE">
        <block type="logic_connective" id=":]LON,k-!D|CGQb$A3FB">
          <field name="CONNECTIVE">∧</field>
          <value name="LEFTINPUT">
            <block type="logic_quantifier_set_restricted_2" id="MFX+oxQp;[[_+6uRa)*J">
              <field name="QUANTIFIER">EXISTS</field>
              <field name="VAR">b</field>
              <value name="PREDICATE">
                <block type="number_comparison" id="NbPJJ7;oRA,Wyp:mw88Z">
                  <field name="COMPARISON_OPERATOR">=</field>
                  <value name="LEFTINPUT">
                    <block type="number_variable_restricted" id="sVuY7hTK?zQH?pB;sbGE">
                      <field name="VAR">a</field>
                    </block>
                  </value>
                  <value name="RIGHTINPUT">
                    <block type="math_arithmetic" id="x+=/IKc;)jI%$uw@pD{/">
                      <field name="OP">MULTIPLY</field>
                      <value name="A">
                        <block type="math_number" id="zN9wC*dq%+t[roV:fyJa">
                          <field name="NUM">6</field>
                        </block>
                      </value>
                      <value name="B">
                        <block type="number_variable_restricted" id="_4D}cngejJ+bH`y.g5xt">
                          <field name="VAR">b</field>
                        </block>
                      </value>
                    </block>
                  </value>
                </block>
              </value>
            </block>
          </value>
          <value name="RIGHTINPUT">
            <block type="logic_quantifier_set_restricted_2" id="6Q+Sblek}66w70A@avxU">
              <field name="QUANTIFIER">EXISTS</field>
              <field name="VAR">c</field>
              <value name="PREDICATE">
                <block type="number_comparison" id="@mjFST6b{9OGHf]`+z4%">
                  <field name="COMPARISON_OPERATOR">=</field>
                  <value name="LEFTINPUT">
                    <block type="number_variable_restricted" id="9$0aF2.o83=^JlYR+:T{">
                      <field name="VAR">a</field>
                    </block>
                  </value>
                  <value name="RIGHTINPUT">
                    <block type="math_arithmetic" id="|7LQ|scm*)(e~6fQPv=r">
                      <field name="OP">MULTIPLY</field>
                      <value name="A">
                        <block type="math_number" id="/aaex8.ExF/d:qjL-u}N">
                          <field name="NUM">3</field>
                        </block>
                      </value>
                      <value name="B">
                        <block type="number_variable_restricted" id="R{.%QFS1Zfym`qlbCL#`">
                          <field name="VAR">c</field>
                        </block>
                      </value>
                    </block>
                  </value>
                </block>
              </value>
            </block>
          </value>
        </block>
      </value>
    </block>
  </xml>

  <script>
    var workspace = Blockly.inject('blocklyDiv',
        {
          media: '../blockly/media/',
          disable: false,
          toggleInline: false
        });

    nextQuestion(); /* Note: nextQuestion() must come before setupAnswers() */
    setupAnswers();

    var gChangeListener = workspace.addChangeListener( checkAnswer );
  </script>

</body>
</html>

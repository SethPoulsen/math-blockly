<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Maths Blocks - logic exercises</title>
  
  <link href="math-blockly.css" rel="stylesheet" type="text/css" />
  <link href="main-html.css" rel="stylesheet" type="text/css" />
  
  <script src="../blockly/blockly_compressed.js"></script>
  <script src="../blockly/blocks/math.js"></script>
  <script src="../blockly/msg/js/en.js"></script>
  <script src="../blockly-type-indicator/typeIndicator.js"></script> <!-- indicate matching slots when dragging block !-->
  <script src="../js/utils.js"></script>

  <script type="text/x-mathjax-config">
  /* Configure MathJax */
  MathJax.Hub.Config({
    config: ["MMLorHTML.js"],
    jax: ["input/TeX","output/HTML-CSS","output/NativeMML", "output/CommonHTML", "output/SVG"],
    extensions: ["tex2jax.js","MathMenu.js","MathZoom.js", "CHTML-preview.js"],
    TeX: {
      extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
    }
  });
  </script>
  <!-- Load MathJax !-->
  <script>
  loadMathjax();
  </script>

  <script src="../js/math-blocks.js"></script>  <!-- Load custom blocks !-->
  <script src="../js/field_mathvariable.js"></script>
  <script src="../js/math-blocks-logic-exercise.js"></script>  <!-- Load custom blocks !-->
  <script>
  var workspace = [];  /* Array of workspaces for each question */
  function dumpXML(n) {
    var xml = Blockly.Xml.workspaceToDom(workspace[n-1]);
    var xml_text = Blockly.Xml.domToPrettyText(xml);
    console.log( xml_text );
  }
   
  function cheat(n) {
    workspace[n-1].clear();
    var xmlNode = goog.dom.getElement('q'+n+'answer');
//    console.log( "Cheat(" + n + "): ", xmlNode );
    if( xmlNode ) Blockly.Xml.domToWorkspace(workspace[n-1],xmlNode);
  }
  
  function reset(n) {
    workspace[n-1].clear();
    var xmlNode = goog.dom.getElement('q'+n+'initial');
//    console.log( "Reset(" + n + "): ", xmlNode );
    if( xmlNode ) Blockly.Xml.domToWorkspace(workspace[n-1],xmlNode);
  }
  </script>
</head>
<body>
<!--@@ BEGIN templates/header.html !-->
  <div id="headerbar">
    <div id="titlebar">
      <img src="images/logo-transparent.png" alt="Math Blocks" style="width: 173px; height: 43px;">
      <div id="tagline">Visual blocks for mathematical syntax</div>
    </div>
    <div id="navbar">
      <div>
        <!--<div style="font-style: italic; font-size: smaller;">Navigation:</div>!-->
        <div id="menulist">
          <a class="menuitem" href="../index.html">Home</a>
          <div class="menuitem">
            <a href="javascript:" onclick="return(false)">Demos</a>
            <div class="submenulist">
              <a class="menuitem" href="builder.html">Builder</a>
              <a class="menuitem" href="translation-exercise.html">Translation exercise</a>
              <a class="menuitem" href="limit-exercise.html">Limit definition exercise</a>
              <a class="menuitem" href="logic-exercise.html">Logic exercises</a>
              <a class="menuitem" href="vectors.html">Vectors demo</a>
            </div>
          </div>
          <a class="menuitem" href="about.html">About</a>
        </div>
      </div>
    </div>
  </div>
<!--@@ END templates/header.html !-->
  <h1>Logic manipulation exercises</h1>
  
  <p>Below are some exercises for you to try.<br><span style="font-style: italic;">These are just for practice, you will not receive any feedback about whether your answer is correct.</span></p>

  <div class="q">
    <div>Q1. Convert the expression below into its contrapositive.</div>
    <div id="blocklyDiv1" style="height: 100px; width: 100%;" class="blocklyWorkspace"></div>
    
    <div class="debug">
      <a href="#" onclick="reset(1);">(reset)</a>
      <a href="#" onclick="cheat(1);">(cheat)</a>
      <a href="#" onclick="dumpXML(1);">(dump XML)</a>
    </div>
  </div>
  
  <div class="q">
    <div>Q2.  Negate the expression below.</div>
    <!-- Note: 'without using the negation symbol' is implicit as negation block is not supplied. !-->
    <div id="blocklyDiv2" style="height: 100px; width: 100%;" class="blocklyWorkspace"></div>
    
    <div class="debug">
      <a href="#" onclick="reset(2);">(reset)</a>
      <a href="#" onclick="cheat(2);">(cheat)</a>
      <a href="#" onclick="dumpXML(2);">(dump XML)</a>
    </div>
  </div>
  
  <div class="q">
    <div>
      Q3. The expression below states `<em>Every real number has a cube root</em>'.<br>
      Modify the statement to say that `<em>Every real number has a <span style="color: red;">unique</span> cube root</em>'.
    </div>
    <div id="blocklyDiv3" style="height: 280px; width: 100%;" class="blocklyWorkspace"></div>
    
    <div class="debug">
      <a href="#" onclick="reset(3);">(reset)</a>
      <a href="#" onclick="cheat(3);">(cheat)</a>
      <a href="#" onclick="dumpXML(3);">(dump XML)</a>
    </div>
  </div>
  
  <div class="q">
    <div>
      Q4. A student tried to write the statement `<em>if a real number is positive then its cube is positive</em>' in mathematical notation as follows:
      
      \[
       \forall x > 0 \implies x^3 > 0
      \]
      
      Is this correct? If not, what is wrong?<br>
      <em>Hint: could you construct the above using blocks?</em>
      <br>
      Construct a valid expression for this statement using blocks below.
      
    </div>
    <div id="blocklyDiv4" style="height: 380px; width: 100%;" class="blocklyWorkspace"></div>
    
    <div class="debug">
      <a href="#" onclick="reset(4);">(reset)</a>
      <a href="#" onclick="cheat(4);">(cheat)</a>
      <a href="#" onclick="dumpXML(4);">(dump XML)</a>
    </div>
  </div>

  <div class="q">
    <div>
      Q5. Recall that a sequence \(f\) is nondecreasing if \( \forall n \in \mathbb{N} \;\; f(n+1) \geq f(n) \);
      it is nonincreasing if \( \forall n \in \mathbb{N} \;\; f(n+1) \leq f(n) \);
      it is monotonic if it is nondecreasing or nonincreasing.

      A student tried to write `<em>\(f\) is monotonic</em>' using blocks as below.
      What is wrong with this? Fix it by constructing a correct expression for `<em>\(f\) is monotonic</em>'.
      
    </div>
    <div id="blocklyDiv5" style="height: 300px; width: 100%;" class="blocklyWorkspace"></div>
    
    <div class="debug">
      <a href="#" onclick="reset(5);">(reset)</a>
      <a href="#" onclick="cheat(5);">(cheat)</a>
      <a href="#" onclick="dumpXML(5);">(dump XML)</a>
    </div>
  </div>
  <br>
 
  <!-- Blockly XML !-->
  <xml xmlns="http://www.w3.org/1999/xhtml" id="q1initial">
    <block type="logic_implies" x="475" y="27">
      <value name="LEFTINPUT">
        <block type="logic_p_notp">
          <field name="VAR">P</field>
        </block>
      </value>
      <value name="RIGHTINPUT">
        <block type="logic_connective">
          <field name="CONNECTIVE">∧</field>
          <value name="LEFTINPUT">
            <block type="logic_q_notq">
              <field name="VAR">Q</field>
            </block>
          </value>
          <value name="RIGHTINPUT">
            <block type="logic_r_notr">
              <field name="VAR">NOTR</field>
            </block>
          </value>
        </block>
      </value>
    </block>
  </xml>
  <xml xmlns="http://www.w3.org/1999/xhtml" id="q1answer">
    <block type="logic_implies" x="475" y="27">
      <value name="LEFTINPUT">
        <block type="logic_connective">
          <field name="CONNECTIVE">∨</field>
          <value name="LEFTINPUT">
            <block type="logic_q_notq">
              <field name="VAR">NOTQ</field>
            </block>
          </value>
          <value name="RIGHTINPUT">
            <block type="logic_r_notr">
              <field name="VAR">R</field>
            </block>
          </value>
        </block>
      </value>
      <value name="RIGHTINPUT">
        <block type="logic_p_notp">
          <field name="VAR">NOTP</field>
        </block>
      </value>
    </block>
  </xml>
  <xml xmlns="http://www.w3.org/1999/xhtml" id="q2initial">
    <block type="logic_quantifier" x="148" y="7">
      <field name="QUANTIFIER">∀</field>
      <field name="VAR1">x</field>
      <field name="OPERATOR">∈</field>
      <value name="SCOPE">
        <block type="set_r"></block>
      </value>
      <value name="PREDICATE">
        <block type="logic_quantifier">
          <field name="QUANTIFIER">∀</field>
          <field name="VAR1">y</field>
          <field name="OPERATOR">∈</field>
          <value name="SCOPE">
            <block type="set_q"></block>
          </value>
          <value name="PREDICATE">
            <block type="logic_connective">
              <field name="CONNECTIVE">⇒</field>
              <value name="LEFTINPUT">
                <block type="number_comparison">
                  <field name="COMPARISON_OPERATOR">&gt;</field>
                  <value name="LEFTINPUT">
                    <block type="number_square">
                      <value name="NUM">
                        <block type="number_variable">
                          <field name="VARNAME">x</field>
                        </block>                        
                      </value>
                    </block>
                  </value>
                  <value name="RIGHTINPUT">
                    <block type="number_square">
                      <value name="NUM">
                        <block type="number_variable">
                          <field name="VARNAME">y</field>
                        </block>                        
                      </value>
                    </block>
                  </value>
                </block>
              </value>
              <value name="RIGHTINPUT">
                <block type="number_comparison">
                  <field name="COMPARISON_OPERATOR">&gt;</field>
                  <value name="LEFTINPUT">
                    <block type="number_variable">
                      <field name="VARNAME">x</field>
                    </block>
                  </value>
                  <value name="RIGHTINPUT">
                    <block type="number_variable">
                      <field name="VARNAME">y</field>
                    </block>
                  </value>
                </block>
              </value>
            </block>
          </value>
        </block>
      </value>
    </block>
  </xml>
  <xml xmlns="http://www.w3.org/1999/xhtml" id="q2answer">
    <block type="logic_quantifier" x="148" y="7">
      <field name="QUANTIFIER">∃</field>
      <field name="VAR1">x</field>
      <field name="OPERATOR">∈</field>
      <value name="SCOPE">
        <block type="set_r"></block>
      </value>
      <value name="PREDICATE">
        <block type="logic_quantifier">
          <field name="QUANTIFIER">∃</field>
          <field name="VAR1">y</field>
          <field name="OPERATOR">∈</field>
          <value name="SCOPE">
            <block type="set_q"></block>
          </value>
          <value name="PREDICATE">
            <block type="logic_connective">
              <field name="CONNECTIVE">∧</field>
              <value name="LEFTINPUT">
                <block type="number_comparison">
                  <field name="COMPARISON_OPERATOR">&gt;</field>
                  <value name="LEFTINPUT">
                    <block type="number_square">
                      <value name="NUM">
                        <block type="number_variable">
                          <field name="VARNAME">x</field>
                        </block>
                      </value>
                    </block>
                  </value>
                  <value name="RIGHTINPUT">
                    <block type="number_square">
                      <value name="NUM">
                        <block type="number_variable">
                          <field name="VARNAME">y</field>
                        </block>
                      </value>
                    </block>
                  </value>
                </block>
              </value>
              <value name="RIGHTINPUT">
                <block type="number_comparison">
                  <field name="COMPARISON_OPERATOR">≤</field>
                  <value name="LEFTINPUT">
                    <block type="number_variable">
                      <field name="VARNAME">x</field>
                    </block>
                  </value>
                  <value name="RIGHTINPUT">
                    <block type="number_variable">
                      <field name="VARNAME">y</field>
                    </block>
                  </value>
                </block>
              </value>
            </block>
          </value>
        </block>
      </value>
    </block>
  </xml>
  <xml xmlns="http://www.w3.org/1999/xhtml" id="q3toolbox">
    <block type="logic_quantifier">
      <value name="SCOPE">
        <block type="set_r"></block>
      </value>
    </block>
    <block type="logic_connective"></block>
    <block type="number_comparison"></block>
    <block type="number_variable"></block>
    <block type="number_cube"></block>
  </xml>
  <xml xmlns="http://www.w3.org/1999/xhtml" id="q3initial">
    <block type="logic_quantifier" id="Sbz1/(j1aCm!)2sIgi[$" x="109" y="9">
      <field name="QUANTIFIER">∀</field>
      <field name="VAR1">x</field>
      <field name="OPERATOR">∈</field>
      <value name="SCOPE">
        <block type="set_r" id="2kPw!G(*q|k`,8$XRg_L"></block>
      </value>
      <value name="PREDICATE">
        <block type="logic_quantifier" id="Kk:#9th,M{py-latDGXI">
          <field name="QUANTIFIER">∃</field>
          <field name="VAR1">y</field>
          <field name="OPERATOR">∈</field>
          <value name="SCOPE">
            <block type="set_r" id="joXn(A]vNLkyp2|]4;FB"></block>
          </value>
          <value name="PREDICATE">
            <block type="number_comparison" id="-2d^)R*5)Ct^ZVHAO9Z^">
              <field name="COMPARISON_OPERATOR">=</field>
              <value name="LEFTINPUT">
                <block type="number_cube" id="3TcikV_$O(ZIHj6V/YRn">
                  <value name="NUM">
                    <block type="number_variable" id="FEVX%*^{79m/E)I65G6U">
                      <field name="VARNAME">y</field>
                    </block>
                  </value>
                </block>
              </value>
              <value name="RIGHTINPUT">
                <block type="number_variable" id="T(}*v;pBpdyqs{SwO1jD">
                  <field name="VARNAME">x</field>
                </block>
              </value>
            </block>
          </value>
        </block>
      </value>
    </block>
  </xml>
  <xml xmlns="http://www.w3.org/1999/xhtml" id="q3answer">
    <block type="logic_quantifier" id="|TnCHtjO,|JVFqO;Fl#W" x="31" y="34">
      <field name="QUANTIFIER">∀</field>
      <field name="VAR1">x</field>
      <field name="OPERATOR">∈</field>
      <value name="SCOPE">
        <block type="set_r" id="W_iA2O%Ub0K]|uYp7GLm"></block>
      </value>
      <value name="PREDICATE">
        <block type="logic_quantifier" id="5D/tX6bw7AA^Z]Tc$AH}">
          <field name="QUANTIFIER">∃</field>
          <field name="VAR1">y</field>
          <field name="OPERATOR">∈</field>
          <value name="SCOPE">
            <block type="set_r" id="hUmjt5x5[)L?2j@d}cOP"></block>
          </value>
          <value name="PREDICATE">
            <block type="logic_connective" id="rWa8(b%}g@-u5nYwJm{K">
              <field name="CONNECTIVE">∧</field>
              <value name="LEFTINPUT">
                <block type="number_comparison" id="vw_K6FofM0Q;*bJ8A?sH">
                  <field name="COMPARISON_OPERATOR">=</field>
                  <value name="LEFTINPUT">
                    <block type="number_cube" id="SJ3OMBsriZRpj[xqJ_iX">
                      <value name="NUM">
                        <block type="number_variable" id="{6%cmVpd-,Jn?Bay$FOx">
                          <field name="VARNAME">y</field>
                        </block>
                      </value>
                    </block>
                  </value>
                  <value name="RIGHTINPUT">
                    <block type="number_variable" id="3tN33_9`|u}wL5a0h!xT">
                      <field name="VARNAME">x</field>
                    </block>
                  </value>
                </block>
              </value>
              <value name="RIGHTINPUT">
                <block type="logic_quantifier" id="emg;u@Z*/]0Y0ssFJ)0;">
                  <field name="QUANTIFIER">∀</field>
                  <field name="VAR1">z</field>
                  <field name="OPERATOR">∈</field>
                  <value name="SCOPE">
                    <block type="set_r" id="`o:IBSaSFOM7+c2s5sG#"></block>
                  </value>
                  <value name="PREDICATE">
                    <block type="logic_connective" id="QNCuNis(?wEEfK;WaPnq">
                      <field name="CONNECTIVE">⇒</field>
                      <value name="LEFTINPUT">
                        <block type="number_comparison" id="|Zn)U.t[;9A+d[eRvA%^">
                          <field name="COMPARISON_OPERATOR">=</field>
                          <value name="LEFTINPUT">
                            <block type="number_cube" id="=8}3*9azpi?yaCgGyv1~">
                              <value name="NUM">
                                <block type="number_variable" id="7kfYi+H4h24+4B,x.}Sr">
                                  <field name="VARNAME">z</field>
                                </block>
                              </value>
                            </block>
                          </value>
                          <value name="RIGHTINPUT">
                            <block type="number_variable" id="$V%x~1,en|^ujI|_^jXC">
                              <field name="VARNAME">x</field>
                            </block>
                          </value>
                        </block>
                      </value>
                      <value name="RIGHTINPUT">
                        <block type="number_comparison" id="gyu8jE~tn~m@Ax8L`f,I">
                          <field name="COMPARISON_OPERATOR">=</field>
                          <value name="LEFTINPUT">
                            <block type="number_variable" id="BpCoV]!)*@g|FIw4G2~9">
                              <field name="VARNAME">z</field>
                            </block>
                          </value>
                          <value name="RIGHTINPUT">
                            <block type="number_variable" id="8pM;rD*AaK$jH*B#F9O{">
                              <field name="VARNAME">y</field>
                            </block>
                          </value>
                        </block>
                      </value>
                    </block>
                  </value>
                </block>
              </value>
            </block>
          </value>
        </block>
      </value>
    </block>
  </xml>
  <xml xmlns="http://www.w3.org/1999/xhtml" id="q4toolbox">
    <block type="logic_quantifier"></block>
    <block type="logic_connective"></block>
    <block type="number_comparison"></block>
    <block type="number_cube"></block>
    <block type="number_variable"></block>
    <block type="number_0"></block>
    <block type="set_r"></block>
  </xml>
  <xml xmlns="http://www.w3.org/1999/xhtml" id="q4answer">
    <block type="logic_quantifier" x="57" y="33">
      <field name="QUANTIFIER">∀</field>
      <field name="VAR1">x</field>
      <field name="OPERATOR">∈</field>
      <value name="SCOPE">
        <block type="set_r"></block>
      </value>
      <value name="PREDICATE">
        <block type="logic_connective">
          <field name="CONNECTIVE">⇒</field>
          <value name="LEFTINPUT">
            <block type="number_comparison">
              <field name="COMPARISON_OPERATOR">&gt;</field>
              <value name="LEFTINPUT">
                <block type="number_variable">
                  <field name="VARNAME">x</field>
                </block>
              </value>
              <value name="RIGHTINPUT">
                <block type="number_0"></block>
              </value>
            </block>
          </value>
          <value name="RIGHTINPUT">
            <block type="number_comparison">
              <field name="COMPARISON_OPERATOR">&gt;</field>
              <value name="LEFTINPUT">
                <block type="number_cube">
                  <value name="NUM">
                    <block type="number_variable">
                      <field name="VARNAME">x</field>
                    </block>
                  </value>
                </block>
              </value>
              <value name="RIGHTINPUT">
                <block type="number_0"></block>
              </value>
            </block>
          </value>
        </block>
      </value>
    </block>
  </xml>
  <xml xmlns="http://www.w3.org/1999/xhtml" id="q5toolbox">
    <block type="logic_quantifier">
      <field name="VAR1">n</field>
      <value name="SCOPE">
        <block type="set_n"></block>
      </value>
    </block>
    <block type="logic_connective"></block>
    <block type="number_comparison"></block>
    <block type="function_fn"></block>
    <block type="function_fn+1"></block>
  </xml>
  <xml xmlns="http://www.w3.org/1999/xhtml" id="q5initial">
    <block type="logic_quantifier" x="82" y="36">
      <field name="QUANTIFIER">∀</field>
      <field name="VAR1">n</field>
      <field name="OPERATOR">∈</field>
      <value name="SCOPE">
        <block type="set_n"></block>
      </value>
      <value name="PREDICATE">
        <block type="logic_connective">
          <field name="CONNECTIVE">∨</field>
          <value name="LEFTINPUT">
            <block type="number_comparison">
              <field name="COMPARISON_OPERATOR">≥</field>
              <value name="LEFTINPUT">
                <block type="function_fn+1">
                  <field name="VARNAME">n</field>
                </block>
              </value>
              <value name="RIGHTINPUT">
                <block type="function_fn">
                  <field name="VARNAME">n</field>
                </block>
              </value>
            </block>
          </value>
          <value name="RIGHTINPUT">
            <block type="number_comparison">
              <field name="COMPARISON_OPERATOR">≤</field>
              <value name="LEFTINPUT">
                <block type="function_fn+1">
                  <field name="VARNAME">n</field>
                </block>
              </value>
              <value name="RIGHTINPUT">
                <block type="function_fn">
                  <field name="VARNAME">n</field>
                </block>
              </value>
            </block>
          </value>
        </block>
      </value>
    </block>
  </xml>
  <xml xmlns="http://www.w3.org/1999/xhtml" id="q5answer">
    <block type="logic_connective" x="-1" y="52">
      <field name="CONNECTIVE">∨</field>
      <value name="LEFTINPUT">
        <block type="logic_quantifier">
          <field name="QUANTIFIER">∀</field>
          <field name="VAR1">n</field>
          <field name="OPERATOR">∈</field>
          <value name="SCOPE">
            <block type="set_n"></block>
          </value>
          <value name="PREDICATE">
            <block type="number_comparison">
              <field name="COMPARISON_OPERATOR">≥</field>
              <value name="LEFTINPUT">
                <block type="function_fn+1">
                  <field name="VARNAME">n</field>
                </block>
              </value>
              <value name="RIGHTINPUT">
                <block type="function_fn">
                  <field name="VARNAME">n</field>
                </block>
              </value>
            </block>
          </value>
        </block>
      </value>
      <value name="RIGHTINPUT">
        <block type="logic_quantifier">
          <field name="QUANTIFIER">∀</field>
          <field name="VAR1">n</field>
          <field name="OPERATOR">∈</field>
          <value name="SCOPE">
            <block type="set_n"></block>
          </value>
          <value name="PREDICATE">
            <block type="number_comparison">
              <field name="COMPARISON_OPERATOR">≤</field>
              <value name="LEFTINPUT">
                <block type="function_fn+1">
                  <field name="VARNAME">n</field>
                </block>
              </value>
              <value name="RIGHTINPUT">
                <block type="function_fn">
                  <field name="VARNAME">n</field>
                </block>
              </value>
            </block>
          </value>
        </block>
      </value>
    </block>
  </xml>

  <script>
    var zoomOn = {controls: true, wheel: true, /*startScale: 0.75,*/ maxScale: 1};
    var zoomSettings = [{},{},zoomOn,zoomOn,zoomOn];
    /* Bug: startScale doesn't seem to work properly with initial blocks? */
    for( var i = 1; i <= 5; i++ ) {
      workspace[i-1] = Blockly.inject('blocklyDiv'+i,
        {
          media: '../blockly/media/',
          toolbox: goog.dom.getElement( 'q'+i+'toolbox' ),
          disable: false,
          toggleInline: false,
          zoom: zoomSettings[i-1],
        });
      reset( i );
    }
  </script>

  
</body>
</html>
